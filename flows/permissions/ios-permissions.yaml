# iOS Permissions Flow
# Handles iOS-specific permission dialogs with enhanced logging

appId: com.scopex.scopexmobilev2
name: "iOS Permissions"
tags: ["ios", "permissions"]

---
# Start recording for permission handling
- startRecording:
    path: 'ios-permissions'
    label: 'iOS Permission Dialogs'
    optional: true

# Handle iOS permission dialogs with logging
- evalScript: ${console.log("Handling iOS permissions...");}

- tapOn:
    point: "84%,25%"
    optional: true
- tapOn:
    text: "Allow"
    optional: true
- tapOn:
    text: "Don't Allow"
    optional: true

# Handle notification permissions
- tapOn:
    text: "Allow"
    optional: true
- tapOn:
    text: "Don't Allow"
    optional: true

# Handle location permissions
- tapOn:
    text: "Allow While Using App"
    optional: true
- tapOn:
    text: "Allow Once"
    optional: true
- tapOn:
    text: "Don't Allow"
    optional: true

# Handle camera permissions
- tapOn:
    text: "OK"
    optional: true
- tapOn:
    text: "Cancel"
    optional: true

# Handle contacts permissions
- tapOn:
    text: "Allow"
    optional: true
- tapOn:
    text: "Don't Allow"
    optional: true

# Handle microphone permissions
- tapOn:
    text: "Allow"
    optional: true
- tapOn:
    text: "Don't Allow"
    optional: true

# Handle photos permissions
- tapOn:
    text: "Allow"
    optional: true
- tapOn:
    text: "Don't Allow"
    optional: true

# Stop recording and log permission handling completion
- stopRecording
- evalScript: ${console.log("iOS permissions handled successfully"); output.iosPermissionsHandled = true;}
