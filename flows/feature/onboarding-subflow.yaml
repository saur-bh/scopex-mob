# Onboarding Subflow - Handles the onboarding process
# This flow is called conditionally from the main signup flow

appId: com.scopex.scopexmobilev2
name: "Onboarding Subflow"
tags: ["subflow", "onboarding"]

---
# Navigate through onboarding by clicking Continue until Get Started appears
- evalScript: "console.log('Onboarding Subflow: Starting navigation through onboarding screens...');"

# Keep clicking Continue until Get Started button appears
- evalScript: "console.log('Clicking Continue buttons until Get Started appears...');"

# Click Continue multiple times with better error handling
- evalScript: "console.log('Attempting to click Continue buttons...');"

# Click Continue #1
- extendedWaitUntil:
    visible: "Continue"
    timeout: 3000
- tapOn: "Continue"
- evalScript: "console.log('Clicked Continue #1');"

# Click Continue #2 (if available)
- evalScript: "console.log('Looking for second Continue button...');"
- extendedWaitUntil:
    visible: "Continue"
    timeout: 3000
- tapOn: "Continue"
- evalScript: "console.log('Clicked Continue #2');"

# Click Continue #3 (if available)
- evalScript: "console.log('Looking for third Continue button...');"
- extendedWaitUntil:
    visible: "Continue"
    timeout: 3000
- tapOn: "Continue"
- evalScript: "console.log('Clicked Continue #3');"

# Now look for Get Started and click it
- evalScript: "console.log('Looking for Get Started button...');"
- extendedWaitUntil:
    visible: "Get Started"
    timeout: 5000
- tapOn: "Get Started"
- evalScript: "console.log('Clicked Get Started - onboarding completed successfully!');"
