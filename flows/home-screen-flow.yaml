# Home Screen Flow - Works for both Android and iOS
# Tests main navigation and home screen functionality

appId: ${APP_ID}
name: "Home Screen Flow"
tags: ["home", "navigation", "ui"]

---
# App is already running from previous flow

# Handle permissions
- runFlow:
    when:
      platform: android
    file: permissions/android-permissions.yaml

- runFlow:
    when:
      platform: ios
    file: permissions/ios-permissions.yaml

# Navigate through onboarding
- tapOn: "Continue"
- tapOn: "Continue"
- tapOn: "Get Started"
- tapOn: "Sign up to continue"

# Test main navigation tabs
- tapOn: "üè†"  # Home tab
- assertVisible: "Home"
- assertVisible: "Sign up to continue"

- tapOn: "Transfers"
- assertVisible: "Transfers"
- assertVisible: "Wallet Transactions"

- tapOn: "Wallet"
- assertVisible: "Sign Up & Verify to Claim ‚Ç¨10"

- tapOn: "Settings"
- assertVisible: "Notifications"
- assertVisible: "Settings"

- tapOn: "Help"
- assertVisible: "How can we help you?"
- tapOn: "Chat"
- assertVisible: "Hi there üëã, How can we help you?"
- tapOn: "close"

# Return to home
- tapOn: "üè†"

# Test amount input functionality
- tapOn: "100"
- inputText: "250"
- hideKeyboard

# Verify amount was entered
- assertVisible: "250"

# Take final screenshot
- takeScreenshot: "home-screen-complete"
