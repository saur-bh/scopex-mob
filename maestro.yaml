# Comprehensive Maestro Configuration for ScopeX Mobile App
# Based on Maestro best practices and advanced features

name: "ScopeX Mobile Tests"
version: "2.0.0"

# App configuration
app:
  android:
    appId: "com.scopex.scopexmobilev2"
    apkPath: "apps/android/app-release.apk"
  ios:
    appId: "com.scopex.scopexmobilev2"
    appPath: "apps/ios/MyApp.app"

# Test output directory configuration
testOutputDir: "reports"

# Test flows with proper organization
flows:
  - "flows/feature/*.yaml"         # All feature tests organized here

# Execution order for sequential tests
executionOrder:
  continueOnFailure: false
  flowsOrder:
    - "app-launch-clear-state"
    - "guest-user-journey-clear-state"
    - "signup-flow-clear-state"

# Environment variables
env:
  TEST_ENVIRONMENT: "staging"
  PLATFORM: "${maestro.platform}"
  TIMESTAMP: "${Date.now()}"
  DEVICE_ID: "${maestro.deviceId}"

# Test configuration
testing:
  format: "HTML"
  output: "reports"
  verbose: true
  debug: true

# Device configuration
device:
  android:
    preferred: ["Pixel_7_API_34", "Pixel_6_API_33"]
    requirements:
      minSdkVersion: 21
      targetSdkVersion: 34
  ios:
    preferred: ["iPhone 15", "iPhone 14", "iPhone 13"]
    requirements:
      minVersion: "14.0"
      targetVersion: "17.0"

# Timeout configuration
timeouts:
  appLaunch: 15000
  elementWait: 10000
  permissionDialog: 5000
  networkRequest: 30000

# Capabilities
capabilities:
  android:
    autoGrantPermissions: true
    noReset: false
    unicodeKeyboard: true
  ios:
    autoAcceptAlerts: false
    autoDismissAlerts: false
